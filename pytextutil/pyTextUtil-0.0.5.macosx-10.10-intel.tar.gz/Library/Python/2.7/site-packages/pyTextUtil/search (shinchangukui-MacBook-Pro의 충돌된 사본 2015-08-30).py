#-*-encoding:utf-8-*-
from smart_open import sopen
import re
import logging as log

def contains(inputFile, outputFile, search, regex):

	with open(inputFile, 'r') as input, sopen(outputFile) as output:
		text = input.readlines()
		lineCount = 0
		searchCount = 0
		for line in text:
			lineCount += 1
			if not line:
				break
			if regex and re.search(search, line) != None:
				output.write(line)
				searchCount += 1
			elif not regex and search in line:
				output.write(line)
				searchCount += 1

		log.info('total %d sentences.' % lineCount)
		log.info('searched: %d sentences. (%d%%)' % (searchCount, int(float(searchCount)*100/float(lineCount))))
